<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<title>libkate: Encoding</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.0 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Encoding</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga0a7588d43b22fd5ef6e0a88ed7245210">kate_encode_init</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, <a class="el" href="structkate__info.html">kate_info</a> *ki)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gae39c058d7bf07e5e8e65ca08925b01fe">kate_encode_text_raw_times</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_int64_t t0, kate_int64_t t1, const char *text, size_t sz, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga83a014a63281d6b9a7e5f95b1ca0271b">kate_encode_text</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_float t0, kate_float t1, const char *text, size_t sz, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga9a4dd7d22ee2722a824d1ee27af0ff62">kate_encode_keepalive_raw_times</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_int64_t t, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga78e91931f72e168c5abe7fda8c137836">kate_encode_keepalive</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_float t, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gac15014cb85607647d24ac93c5b546188">kate_encode_repeat_raw_times</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_int64_t t, kate_int64_t threshold, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gae3b9b3f260d5365745e4cdd888502683">kate_encode_repeat</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_float t, kate_float threshold, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga6caef54a4bfc81afa79dd729fa3198d9">kate_encode_finish_raw_times</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_int64_t t, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gafad57b37a14cc49ede82fd198e9f0e66">kate_encode_finish</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_float t, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga045bae46c03407f5ceaf7e984e0a7684">kate_encode_headers</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, <a class="el" href="structkate__comment.html">kate_comment</a> *kc, <a class="el" href="structkate__packet.html">kate_packet</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga7cbb758fd057c488beaf37c0c6ccd912">kate_encode_add_motion</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, <a class="el" href="structkate__motion.html">kate_motion</a> *km, int destroy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gafba8f2ed4e051264c9dcd0061de804e1">kate_encode_add_motion_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t motion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga5db789c3c772f4a6f8c7c34cd8869d7b">kate_encode_add_bitmap</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__bitmap.html">kate_bitmap</a> *kb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga937f6aec52150f234e85a418ee88a786">kate_encode_add_bitmap_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t bitmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gabac66b465caf6459d51dd09f9d6dfeea">kate_encode_set_region_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t region)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gae35b49debbf3c68d45aacd97f7c8fdb9">kate_encode_set_region</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__region.html">kate_region</a> *kr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gae7875690bad6ec827bada01a3ce17c32">kate_encode_set_style_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga902487fd94c26ac32d0dd070ca1f26ca">kate_encode_set_style</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__style.html">kate_style</a> *ks)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga5b0463369fbcb08665bdc2710403d4f7">kate_encode_set_secondary_style_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gac93e0a6b5ed2d642469953c167fa5488">kate_encode_set_secondary_style</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__style.html">kate_style</a> *ks)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga24eb4313c0098bca1596a05e4415ec8c">kate_encode_set_palette_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t palette)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga7e2304d24e5429cdd3837940b42fc822">kate_encode_set_palette</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__palette.html">kate_palette</a> *kp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga8327a9c6dcdfa674f5dca50a36bab26f">kate_encode_set_bitmap_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t bitmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gafc520e8db13916e2979ce25284eb4376">kate_encode_set_bitmap</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const <a class="el" href="structkate__bitmap.html">kate_bitmap</a> *kb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga3c0382d56d6dd8ac288d6af6f8d2e793">kate_encode_set_font_mapping_index</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, size_t font_mapping)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gac628f2f5c33feba5efc4c779d25881bf">kate_encode_set_text_encoding</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, <a class="el" href="kate_8h.html#a9e8a915382d068016312baad10053902">kate_text_encoding</a> text_encoding)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gab7681e228b7e8f88a4f5f61e02a20fb9">kate_encode_set_text_directionality</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, <a class="el" href="kate_8h.html#accb7b9d9ec6e956fa1096f2064a6321e">kate_text_directionality</a> text_directionality)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga3bd7e3119ea6e5ff3ea87bab95aaf124">kate_encode_set_id</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_int32_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga51e0061b69affeb2d9e34094f23d0ca7">kate_encode_set_language</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const char *language)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gadbd29d259de9f5d1aa8a771de04543cd">kate_encode_set_markup_type</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, int text_markup_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga78bc686106a19f9e5855ad7f48ef7822">kate_encode_add_meta</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, const kate_meta *km)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#ga3d4eed3fd2e9f0ad5c0e5faeac5c404b">kate_encode_merge_meta</a> (<a class="el" href="structkate__state.html">kate_state</a> *k, kate_meta *km)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">kate_int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__encoding.html#gaeac961ea211f8b5345e63c49a1e57625">kate_encode_get_granule</a> (const <a class="el" href="structkate__state.html">kate_state</a> *k)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga5db789c3c772f4a6f8c7c34cd8869d7b"></a><!-- doxytag: member="kate_encode.c::kate_encode_add_bitmap" ref="ga5db789c3c772f4a6f8c7c34cd8869d7b" args="(kate_state *k, const kate_bitmap *kb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_add_bitmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__bitmap.html">kate_bitmap</a> *&nbsp;</td>
          <td class="paramname"> <em>kb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a bitmap to the currently encoded event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the bitmap to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kb</em>&nbsp;</td><td>the bitmap to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga937f6aec52150f234e85a418ee88a786"></a><!-- doxytag: member="kate_encode.c::kate_encode_add_bitmap_index" ref="ga937f6aec52150f234e85a418ee88a786" args="(kate_state *k, size_t bitmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_add_bitmap_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bitmap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a bitmap to the currently encoded event by its index into the list of predefined bitmaps. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the bitmap to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bitmap</em>&nbsp;</td><td>the index of the bitmap to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00308">kate_info::nbitmaps</a>.</p>

</div>
</div>
<a class="anchor" id="ga78bc686106a19f9e5855ad7f48ef7822"></a><!-- doxytag: member="kate_encode.c::kate_encode_add_meta" ref="ga78bc686106a19f9e5855ad7f48ef7822" args="(kate_state *k, const kate_meta *km)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_add_meta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kate_meta *&nbsp;</td>
          <td class="paramname"> <em>km</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a set of metadata to this event </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>km</em>&nbsp;</td><td>the metadata to add (a reference is taken, km must be live until the event is encoded) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga7cbb758fd057c488beaf37c0c6ccd912"></a><!-- doxytag: member="kate_encode.c::kate_encode_add_motion" ref="ga7cbb758fd057c488beaf37c0c6ccd912" args="(kate_state *k, kate_motion *km, int destroy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_add_motion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__motion.html">kate_motion</a> *&nbsp;</td>
          <td class="paramname"> <em>km</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destroy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a motion to the currently encoded event. If destroy is set, the motion will be automatically destroyed after the current event has been encoded. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the motion to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>km</em>&nbsp;</td><td>the motion to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destroy</em>&nbsp;</td><td>if true, the motion will be destroyed when the event is fully encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="gafba8f2ed4e051264c9dcd0061de804e1"></a><!-- doxytag: member="kate_encode.c::kate_encode_add_motion_index" ref="gafba8f2ed4e051264c9dcd0061de804e1" args="(kate_state *k, size_t motion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_add_motion_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>motion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a motion to the currently encoded event by its index into the list of predefined motions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the motion to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>motion</em>&nbsp;</td><td>the index of the motion to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00302">kate_info::nmotions</a>.</p>

</div>
</div>
<a class="anchor" id="gafad57b37a14cc49ede82fd198e9f0e66"></a><!-- doxytag: member="kate_encode.c::kate_encode_finish" ref="gafad57b37a14cc49ede82fd198e9f0e66" args="(kate_state *k, kate_float t, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finalizes the currently encoded stream. No more events may be added after this is called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp for the end (if negative, the end time of the last event will be used) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate__granule_8c_source.html#l00108">kate_duration_granule()</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate__encode_8c_source.html#l01209">kate_encode_finish_raw_times()</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__ogg_8c_source.html#l00193">kate_ogg_encode_finish()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6caef54a4bfc81afa79dd729fa3198d9"></a><!-- doxytag: member="kate_encode.c::kate_encode_finish_raw_times" ref="ga6caef54a4bfc81afa79dd729fa3198d9" args="(kate_state *k, kate_int64_t t, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_finish_raw_times </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finalizes the currently encoded stream. No more events may be added after this is called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp (in granule rate units) for the end (if negative, the end time of the last event will be used) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00283">kate_info::granule_shift</a>, <a class="el" href="kate_8h_source.html#l00684">KATE_E_BAD_GRANULE</a>, <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00681">KATE_E_NOT_FOUND</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__encode_8c_source.html#l01256">kate_encode_finish()</a>, and <a class="el" href="kate__ogg_8c_source.html#l00211">kate_ogg_encode_finish_raw_times()</a>.</p>

</div>
</div>
<a class="anchor" id="gaeac961ea211f8b5345e63c49a1e57625"></a><!-- doxytag: member="kate_encode.c::kate_encode_get_granule" ref="gaeac961ea211f8b5345e63c49a1e57625" args="(const kate_state *k)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kate_int64_t kate_encode_get_granule </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the current granulepos </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&gt;=0 the current granulepos (the one of the last encoded packet) </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga045bae46c03407f5ceaf7e984e0a7684"></a><!-- doxytag: member="kate_encode.c::kate_encode_headers" ref="ga045bae46c03407f5ceaf7e984e0a7684" args="(kate_state *k, kate_comment *kc, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_headers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__comment.html">kate_comment</a> *&nbsp;</td>
          <td class="paramname"> <em>kc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encodes a header. This should be repeatedly called at the beginning of encoding, until a positive value is returned, marking the encoding of the last header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kc</em>&nbsp;</td><td>the list of comments to add to the headers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
1 success, and all headers have been encoded </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

<p>Referenced by <a class="el" href="kate__ogg_8c_source.html#l00054">kate_ogg_encode_headers()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a7588d43b22fd5ef6e0a88ed7245210"></a><!-- doxytag: member="kate_encode.c::kate_encode_init" ref="ga0a7588d43b22fd5ef6e0a88ed7245210" args="(kate_state *k, kate_info *ki)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__info.html">kate_info</a> *&nbsp;</td>
          <td class="paramname"> <em>ki</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes a <a class="el" href="structkate__state.html">kate_state</a> structure for encoding using the supplied <a class="el" href="structkate__info.html">kate_info</a> structure. When done, the <a class="el" href="structkate__state.html">kate_state</a> structure should be cleared using kate_clear. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> structure to initialize for encoding </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ki</em>&nbsp;</td><td>the <a class="el" href="structkate__info.html">kate_info</a> structure containing the encoding parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00683">KATE_E_OUT_OF_MEMORY</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00282">kate_info::num_headers</a>.</p>

</div>
</div>
<a class="anchor" id="ga78e91931f72e168c5abe7fda8c137836"></a><!-- doxytag: member="kate_encode.c::kate_encode_keepalive" ref="ga78e91931f72e168c5abe7fda8c137836" args="(kate_state *k, kate_float t, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_keepalive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Emits a keepalive packet, to help with seeking. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp for the keepalive packet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate__granule_8c_source.html#l00108">kate_duration_granule()</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate__encode_8c_source.html#l01071">kate_encode_keepalive_raw_times()</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__ogg_8c_source.html#l00158">kate_ogg_encode_keepalive()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a4dd7d22ee2722a824d1ee27af0ff62"></a><!-- doxytag: member="kate_encode.c::kate_encode_keepalive_raw_times" ref="ga9a4dd7d22ee2722a824d1ee27af0ff62" args="(kate_state *k, kate_int64_t t, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_keepalive_raw_times </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Emits a keepalive packet, to help with seeking. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp (in granule rate units) for the keepalive packet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00283">kate_info::granule_shift</a>, <a class="el" href="kate_8h_source.html#l00684">KATE_E_BAD_GRANULE</a>, <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00681">KATE_E_NOT_FOUND</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__encode_8c_source.html#l01117">kate_encode_keepalive()</a>, and <a class="el" href="kate__ogg_8c_source.html#l00175">kate_ogg_encode_keepalive_raw_times()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3d4eed3fd2e9f0ad5c0e5faeac5c404b"></a><!-- doxytag: member="kate_encode.c::kate_encode_merge_meta" ref="ga3d4eed3fd2e9f0ad5c0e5faeac5c404b" args="(kate_state *k, kate_meta *km)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_merge_meta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_meta *&nbsp;</td>
          <td class="paramname"> <em>km</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a set of metadata to this event </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>km</em>&nbsp;</td><td>the metadata to add (will become invalid after this call returns successfully) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="gae3b9b3f260d5365745e4cdd888502683"></a><!-- doxytag: member="kate_encode.c::kate_encode_repeat" ref="gae3b9b3f260d5365745e4cdd888502683" args="(kate_state *k, kate_float t, kate_float threshold, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_repeat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Emits a repeat packet, to help with seeking. The first active event at time t, if it or its latest repeat (whichever is the latest) was emitted more than threshold ago, of if threshold is zero, will have a repeat packet emitted. kate_encode_repeat is designed to be called in a loop, as it will return a repeat packet for only one event even if more than one event needs a repeat. When the returned value is 0, no more events need repeating at time t. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp for the the packets, if any </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>the time threshold at which to emit a repeat packets (zero to force a repeat) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success, and no repeat packet was encoded </dd>
<dd>
1 success, and a repeat packet was encoded </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate__granule_8c_source.html#l00108">kate_duration_granule()</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate__encode_8c_source.html#l01141">kate_encode_repeat_raw_times()</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__ogg_8c_source.html#l00114">kate_ogg_encode_repeat()</a>.</p>

</div>
</div>
<a class="anchor" id="gac15014cb85607647d24ac93c5b546188"></a><!-- doxytag: member="kate_encode.c::kate_encode_repeat_raw_times" ref="gac15014cb85607647d24ac93c5b546188" args="(kate_state *k, kate_int64_t t, kate_int64_t threshold, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_repeat_raw_times </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Emits a repeat packet, to help with seeking. The first active event at time t, if it or its latest repeat (whichever is the latest) was emitted more than threshold ago, of if threshold is zero, will have a repeat packet emitted. kate_encode_repeat is designed to be called in a loop, as it will return a repeat packet for only one event even if more than one event needs a repeat. When the returned value is 0, no more events need repeating at time t. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>the timestamp (in granule rate units) for the the packets, if any </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>the time threshold (in granule rate units) at which to emit a repeat packets (zero to force a repeat) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success, and no repeat packet was encoded </dd>
<dd>
1 success, and a repeat packet was encoded </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00283">kate_info::granule_shift</a>, <a class="el" href="kate_8h_source.html#l00684">KATE_E_BAD_GRANULE</a>, <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00681">KATE_E_NOT_FOUND</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__encode_8c_source.html#l01192">kate_encode_repeat()</a>, and <a class="el" href="kate__ogg_8c_source.html#l00137">kate_ogg_encode_repeat_raw_times()</a>.</p>

</div>
</div>
<a class="anchor" id="gafc520e8db13916e2979ce25284eb4376"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_bitmap" ref="gafc520e8db13916e2979ce25284eb4376" args="(kate_state *k, const kate_bitmap *kb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_bitmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__bitmap.html">kate_bitmap</a> *&nbsp;</td>
          <td class="paramname"> <em>kb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a bitmap to the currently encoded event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to set the bitmap for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kb</em>&nbsp;</td><td>the bitmap to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

</div>
</div>
<a class="anchor" id="ga8327a9c6dcdfa674f5dca50a36bab26f"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_bitmap_index" ref="ga8327a9c6dcdfa674f5dca50a36bab26f" args="(kate_state *k, size_t bitmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_bitmap_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bitmap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the bitmap the event should use, by its index in the predefined bitmap list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bitmap</em>&nbsp;</td><td>the index of the predefined bitmap to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00308">kate_info::nbitmaps</a>.</p>

</div>
</div>
<a class="anchor" id="ga3c0382d56d6dd8ac288d6af6f8d2e793"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_font_mapping_index" ref="ga3c0382d56d6dd8ac288d6af6f8d2e793" args="(kate_state *k, size_t font_mapping)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_font_mapping_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>font_mapping</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the font mapping this event's text should be displayed with, by its index into the predefined font mappings list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>font_mapping</em>&nbsp;</td><td>the font mapping to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00314">kate_info::nfont_mappings</a>.</p>

</div>
</div>
<a class="anchor" id="ga3bd7e3119ea6e5ff3ea87bab95aaf124"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_id" ref="ga3bd7e3119ea6e5ff3ea87bab95aaf124" args="(kate_state *k, kate_int32_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int32_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is obsolete and should not be used. An event identifier is automatically generated for each event. It used to set a unique identifier for the currently encoded event, so it can be referred to later, but not does nothing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>unused </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00692">KATE_E_IMPL</a>, <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga51e0061b69affeb2d9e34094f23d0ca7"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_language" ref="ga51e0061b69affeb2d9e34094f23d0ca7" args="(kate_state *k, const char *language)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_language </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>language</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the language used in this event's text, overriding the default language </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>language</em>&nbsp;</td><td>the language for this event's text - may be NULL (use the default language) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00683">KATE_E_OUT_OF_MEMORY</a>.</p>

</div>
</div>
<a class="anchor" id="gadbd29d259de9f5d1aa8a771de04543cd"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_markup_type" ref="gadbd29d259de9f5d1aa8a771de04543cd" args="(kate_state *k, int text_markup_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_markup_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>text_markup_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the markup type of this event </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_markup_type</em>&nbsp;</td><td>the markup type of this event </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e2304d24e5429cdd3837940b42fc822"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_palette" ref="ga7e2304d24e5429cdd3837940b42fc822" args="(kate_state *k, const kate_palette *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_palette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__palette.html">kate_palette</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a palette to the currently encoded event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to set the palette for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the palette to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

</div>
</div>
<a class="anchor" id="ga24eb4313c0098bca1596a05e4415ec8c"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_palette_index" ref="ga24eb4313c0098bca1596a05e4415ec8c" args="(kate_state *k, size_t palette)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_palette_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>palette</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the palette the event should use for its bitmap, by its index in the predefined palette list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>palette</em>&nbsp;</td><td>the index of the predefined palette to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00305">kate_info::npalettes</a>.</p>

</div>
</div>
<a class="anchor" id="gae35b49debbf3c68d45aacd97f7c8fdb9"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_region" ref="gae35b49debbf3c68d45aacd97f7c8fdb9" args="(kate_state *k, const kate_region *kr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_region </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__region.html">kate_region</a> *&nbsp;</td>
          <td class="paramname"> <em>kr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the region the event should be displayed in. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kr</em>&nbsp;</td><td>the region to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

</div>
</div>
<a class="anchor" id="gabac66b465caf6459d51dd09f9d6dfeea"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_region_index" ref="gabac66b465caf6459d51dd09f9d6dfeea" args="(kate_state *k, size_t region)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_region_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>region</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the region the event should be displayed in, by its index in the predefined regions list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>the index of the predefined region to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00293">kate_info::nregions</a>.</p>

</div>
</div>
<a class="anchor" id="gac93e0a6b5ed2d642469953c167fa5488"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_secondary_style" ref="gac93e0a6b5ed2d642469953c167fa5488" args="(kate_state *k, const kate_style *ks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_secondary_style </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__style.html">kate_style</a> *&nbsp;</td>
          <td class="paramname"> <em>ks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the secondary style the event should be displayed with. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>the style to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

</div>
</div>
<a class="anchor" id="ga5b0463369fbcb08665bdc2710403d4f7"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_secondary_style_index" ref="ga5b0463369fbcb08665bdc2710403d4f7" args="(kate_state *k, size_t style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_secondary_style_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>style</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the secondary style the event should be displayed with, by its index in the predefined styles list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>style</em>&nbsp;</td><td>the index of the predefined style to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00296">kate_info::nstyles</a>.</p>

</div>
</div>
<a class="anchor" id="ga902487fd94c26ac32d0dd070ca1f26ca"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_style" ref="ga902487fd94c26ac32d0dd070ca1f26ca" args="(kate_state *k, const kate_style *ks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_style </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkate__style.html">kate_style</a> *&nbsp;</td>
          <td class="paramname"> <em>ks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the style the event should be displayed with. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>the style to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

</div>
</div>
<a class="anchor" id="gae7875690bad6ec827bada01a3ce17c32"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_style_index" ref="gae7875690bad6ec827bada01a3ce17c32" args="(kate_state *k, size_t style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_style_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>style</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the style the event should be displayed with, by its index in the predefined styles list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>style</em>&nbsp;</td><td>the index of the predefined style to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00296">kate_info::nstyles</a>.</p>

</div>
</div>
<a class="anchor" id="gab7681e228b7e8f88a4f5f61e02a20fb9"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_text_directionality" ref="gab7681e228b7e8f88a4f5f61e02a20fb9" args="(kate_state *k, kate_text_directionality text_directionality)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_text_directionality </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kate_8h.html#accb7b9d9ec6e956fa1096f2064a6321e">kate_text_directionality</a>&nbsp;</td>
          <td class="paramname"> <em>text_directionality</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the text directionality used in this event's text, overriding the default text directionality. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_directionality</em>&nbsp;</td><td>the text directionality for this event's text </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="gac628f2f5c33feba5efc4c779d25881bf"></a><!-- doxytag: member="kate_encode.c::kate_encode_set_text_encoding" ref="gac628f2f5c33feba5efc4c779d25881bf" args="(kate_state *k, kate_text_encoding text_encoding)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_set_text_encoding </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kate_8h.html#a9e8a915382d068016312baad10053902">kate_text_encoding</a>&nbsp;</td>
          <td class="paramname"> <em>text_encoding</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the character encoding used in this event's text, overriding the default character encoding. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to encode to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text_encoding</em>&nbsp;</td><td>the text encoding for this event's text </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, and <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>.</p>

</div>
</div>
<a class="anchor" id="ga83a014a63281d6b9a7e5f95b1ca0271b"></a><!-- doxytag: member="kate_encode.c::kate_encode_text" ref="ga83a014a63281d6b9a7e5f95b1ca0271b" args="(kate_state *k, kate_float t0, kate_float t1, const char *text, size_t sz, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_text </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>t0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_float&nbsp;</td>
          <td class="paramname"> <em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encodes a text (which may be NULL) of the given size, starting at t0 and ending at t1. This should always be called when encoding an event, even if the text is NULL. After this is called, the event is fully encoded and cannot be added to anymore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the text to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t0</em>&nbsp;</td><td>the start time in seconds of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t1</em>&nbsp;</td><td>the end time in seconds of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>the text to add (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sz</em>&nbsp;</td><td>the length in bytes of the text to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate__granule_8c_source.html#l00108">kate_duration_granule()</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate__encode_8c_source.html#l00953">kate_encode_text_raw_times()</a>, and <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>.</p>

<p>Referenced by <a class="el" href="kate__ogg_8c_source.html#l00075">kate_ogg_encode_text()</a>.</p>

</div>
</div>
<a class="anchor" id="gae39c058d7bf07e5e8e65ca08925b01fe"></a><!-- doxytag: member="kate_encode.c::kate_encode_text_raw_times" ref="gae39c058d7bf07e5e8e65ca08925b01fe" args="(kate_state *k, kate_int64_t t0, kate_int64_t t1, const char *text, size_t sz, kate_packet *kp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kate_encode_text_raw_times </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkate__state.html">kate_state</a> *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>t0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kate_int64_t&nbsp;</td>
          <td class="paramname"> <em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkate__packet.html">kate_packet</a> *&nbsp;</td>
          <td class="paramname"> <em>kp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encodes a text (which may be NULL) of the given size, starting at t0 and ending at t1. This should always be called when encoding an event, even if the text is NULL. After this is called, the event is fully encoded and cannot be added to anymore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the <a class="el" href="structkate__state.html">kate_state</a> to add the text to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t0</em>&nbsp;</td><td>the start time in granule units of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t1</em>&nbsp;</td><td>the end time in granule units of the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>the text to add (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sz</em>&nbsp;</td><td>the length in bytes of the text to add </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>the packet to encode to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 success </dd>
<dd>
KATE_E_* error </dd></dl>

<p>References <a class="el" href="kate_8h_source.html#l00528">kate_packet::data</a>, <a class="el" href="kate_8h_source.html#l00283">kate_info::granule_shift</a>, <a class="el" href="kate_8h_source.html#l00684">KATE_E_BAD_GRANULE</a>, <a class="el" href="kate_8h_source.html#l00685">KATE_E_INIT</a>, <a class="el" href="kate_8h_source.html#l00682">KATE_E_INVALID_PARAMETER</a>, <a class="el" href="kate__text_8c_source.html#l00341">kate_text_validate()</a>, <a class="el" href="kate_8h_source.html#l00337">kate_state::ki</a>, and <a class="el" href="kate_8h_source.html#l00527">kate_packet::nbytes</a>.</p>

<p>Referenced by <a class="el" href="kate__encode_8c_source.html#l01056">kate_encode_text()</a>, and <a class="el" href="kate__ogg_8c_source.html#l00095">kate_ogg_encode_text_raw_times()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Aug 21 23:47:09 2011 for libkate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.0 </small></address>
</body>
</html>
